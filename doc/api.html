<!DOCTYPE html>

<!--
    Material Design Lite
    Copyright 2015 Google Inc. All rights reserved.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

    https://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License
  -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>Koru API</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.blue_grey-deep_purple.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="api.css">
  </head>
  <body class="mdl-demo mdl-color-text--grey-700 mdl-base">
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer
                mdl-layout--fixed-header">
      <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
          <div class="page-header" data-api="header">
          </div>
          <div class="mdl-layout-spacer"></div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable
                      mdl-textfield--floating-label mdl-textfield--align-right">
            <label class="mdl-button mdl-js-button mdl-button--icon" for="fixed-header-drawer-exp">
              <i class="material-icons">search</i>
            </label>
            <div class="mdl-textfield__expandable-holder">
              <input class="mdl-textfield__input" type="text" name="sample" id="fixed-header-drawer-exp">
            </div>
          </div>
        </div>
      </header>
      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">Modules</span>
        <nav id="jsdoc-index" class="mdl-navigation" data-api="links">
        <div class="jsdoc-nav-module"><a class="jsdoc-idLink" href="#koru/css/loader">koru/css/loader</a><nav><a href="#koru/css/loader:loadAll">loadAll</a></nav></div><div class="jsdoc-nav-module"><a class="jsdoc-idLink" href="#koru/dom/ctx">koru/dom/ctx</a><nav></nav></div><div class="jsdoc-nav-module"><a class="jsdoc-idLink" href="#koru/dom/template">koru/dom/template</a><nav><a href="#koru/dom/template:newTemplate">newTemplate</a></nav></div><div class="jsdoc-nav-module"><a class="jsdoc-idLink" href="#koru/idle-check">koru/idle-check</a><nav><a href="#koru/idle-check:constructor">constructor</a><a href="#koru/idle-check:#waitIdle">#waitIdle</a></nav></div><div class="jsdoc-nav-module"><a class="jsdoc-idLink" href="#koru/main">koru/main</a><nav><a href="#koru/main:onunload">onunload</a></nav></div><div class="jsdoc-nav-module"><a class="jsdoc-idLink" href="#koru/test/api">koru/test/api</a><nav><a href="#koru/test/api:module">module</a><a href="#koru/test/api:example">example</a><a href="#koru/test/api:comment">comment</a><a href="#koru/test/api:property">property</a><a href="#koru/test/api:new">new</a><a href="#koru/test/api:method">method</a><a href="#koru/test/api:protoMethod">protoMethod</a></nav></div><div class="jsdoc-nav-module"><a class="jsdoc-idLink" href="#koru/ui/route">koru/ui/route</a><nav><a href="#koru/ui/route:setTitle">setTitle</a><a href="#koru/ui/route:gotoPage">gotoPage</a><a href="#koru/ui/route:replacePage">replacePage</a></nav></div><div class="jsdoc-nav-module"><a class="jsdoc-idLink" href="#koru/util">koru/util</a><nav><a href="#koru/util:toDp">toDp</a><a href="#koru/util:pc">pc</a><a href="#koru/util:px">px</a><a href="#koru/util:removeItem">removeItem</a><a href="#koru/util:intersectp">intersectp</a><a href="#koru/util:reverseForEach">reverseForEach</a></nav></div><div class="jsdoc-nav-module"><a class="jsdoc-idLink" href="#koru/web-server">koru/web-server</a><nav><a href="#koru/web-server:start">start</a></nav></div><div class="jsdoc-nav-module"><a class="jsdoc-idLink" href="#koru/web-server-factory">koru/web-server-factory</a><nav><a href="#koru/web-server-factory:constructor">constructor</a><a href="#koru/web-server-factory:#start">#start</a><a href="#koru/web-server-factory:#stop">#stop</a></nav></div></nav>
      </div>
      <main class="mdl-layout__content">
        <div class="page-content" data-api="pages">
        <section class="jsdoc-module" id="koru/css/loader"><h2 class="jsdoc-module-title">CssLoader</h2><abstract><div></div></abstract><div><div class="jsdoc-methods"><h4>Methods</h4><div><div class=" jsdoc-module-section" id="koru/css/loader:loadAll" name="loadAll"><h5>CssLoader.loadAll(dir)</h5><abstract><div>Load all css and less files under <span class="jsdoc-param">dir</span></div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>dir</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">CssLoader</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/css/loader"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">CssLoader</span>.<span class="na">loadAll</span>(<span class="s">"koru/css"</span>);</div></div></div></pre></div></div></div></div></div></section><section class="jsdoc-module" id="koru/dom/ctx"><h2 class="jsdoc-module-title">Ctx</h2><abstract><div>Ctx is used to track <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node">DOM
elements</a></div></abstract><div></div></section><section class="jsdoc-module" id="koru/dom/template"><h2 class="jsdoc-module-title">DomTemplate</h2><abstract><div>DomTemplate is used to create interactive <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node">Dom
Trees</a></div></abstract><div><div class="jsdoc-methods"><h4>Methods</h4><div><div class=" jsdoc-module-section" id="koru/dom/template:newTemplate" name="newTemplate"><h5>DomTemplate.newTemplate(module, blueprint)</h5><abstract><div>Create a new <span class="jsdoc-param">DomTemplate</span> from an html <span class="jsdoc-param">blueprint</span>.</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>[module]</td><td><a href="https://www.npmjs.com/package/yaajs#api_Module">Module</a></td><td class="jsdoc-info"><div>if supplied the template will be deleted if <span class="jsdoc-param">module</span> is unloaded</div></td></tr><tr class="jsdoc-arg"><td>blueprint</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Object">object</a></td><td class="jsdoc-info"><div>A blue print is usually built by <a class="jsdoc-idLink" href="#koru/dom/template-compiler">koru/dom/template-compiler</a> which is called automatically
on html files loaded using
<code>require('koru/html!path/to/my-template.html')</code></div></td></tr><tr class="jsdoc-method-returns"><td><h6>Returns</h6></td><td><a href="#koru/dom/template">koru/dom/template</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">DomTemplate</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/dom/template"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">DomTemplate</span>.<span class="na">newTemplate</span>(<span class="ge nx">{Module:myMod}</span>, <span class="ge nx">{name: 'Foo', nodes: [{name: 'div'}]}</span>);</div><span class="jsdoc-returns c1"> // returns <span class="ge nx">DomTemplate:Foo</span></span></div></div></pre></div></div></div></div></div></section><section class="jsdoc-module" id="koru/idle-check"><h2 class="jsdoc-module-title">IdleCheck</h2><abstract><div>IdleCheck keeps count of usage and notifies when idle. </div></abstract><div><div class=" jsdoc-module-section" id="koru/idle-check:constructor" name="constructor"><h4>constructor()</h4><abstract><div></div></abstract><div><h6>Example</h6><pre class="jsdoc-example highlight"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">IdleCheck</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/idle-check"</span>);</div><div>new IdleCheck();</div></pre></div></div><div class="jsdoc-properties"><h5>Properties</h5><table><tbody><tr><td>singleton</td><td class="jsdoc-info"><div>The default <span class="jsdoc-param">IdleCheck</span>. It is used by <a class="jsdoc-idLink" href="#koru/web-server-factory">koru/web-server-factory</a> and <a class="jsdoc-idLink" href="#session/server-connection">session/server-connection</a></div></td></tr></tbody></table></div><div class="jsdoc-methods"><h4>Methods</h4><div><div class=" jsdoc-module-section" id="koru/idle-check:#waitIdle" name="#waitIdle"><h5>IdleCheck#waitIdle(func)</h5><abstract><div>waitIdle waits until <span class="jsdoc-param">this.count</span> drops to zero.</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>func</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Function">function</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">IdleCheck</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/idle-check"</span>);</div><div class="jsdoc-example-call"><div class="highlight"><span class="kd">const</span> <span class="nx">check</span> = <span class="k">new</span> <span class="nx">IdleCheck</span>();
<span class="nx">check</span>.<span class="na">waitIdle</span>(<span class="nx">v</span>.<span class="na">stub</span> <span class="o">=</span> <span class="nx">test</span>.<span class="na">stub</span>());
<span class="nx">assert</span>.<span class="na">called</span>(<span class="nx">v</span>.<span class="na">stub</span>);</div></div></pre></div></div></div></div></div></section><section class="jsdoc-module" id="koru/main"><h2 class="jsdoc-module-title">koru</h2><abstract><div>Main koru module. Responsible for:
<ul>
<li>Fibers</li>
<li>Logging</li>
<li>Dependency tracking and load/unload manager</li>
<li>AppDir location</li>
</ul>
</div></abstract><div><div class="jsdoc-methods"><h4>Methods</h4><div><div class=" jsdoc-module-section" id="koru/main:onunload" name="onunload"><h5>koru.function onunload(moduleOrId, callback)</h5><abstract><div>A wrapper around <span class="jsdoc-param">module#onUnload</span>. see <a href="https://www.npmjs.com/package/yaajs">https://www.npmjs.com/package/yaajs</a></div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>moduleOrId</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Object">object</a> or <a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>callback</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Object">object</a> or <a href="https://developer.mozilla.org/en-US/docs/Glossary/Function">function</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">koru</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/main"</span>);</div><div class="jsdoc-example-call"><div class="highlight"><span class="kd">const</span> <span class="nx">myModule</span> = { <span class="na">id</span>: <span class="s">'myModule'</span>, <span class="na">onUnload</span>: <span class="nx">test</span>.<span class="na">stub</span>() };
<span class="kd">const</span> <span class="nx">callback</span> = { <span class="nf">stop</span>() {} };
<span class="nx">koru</span>.<span class="na">onunload</span>(<span class="nx">myModule</span>, <span class="nx">callback</span>);
<span class="nx">assert</span>.<span class="na">calledWith</span>(<span class="nx">myModule</span>.<span class="na">onUnload</span>, <span class="nx">callback</span>.<span class="na">stop</span>);</div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">koru</span>.<span class="na">onunload</span>(<span class="s">"koru/main-test"</span>, <span class="ge nx">stub</span>);</div></div></div></pre></div></div></div></div></div></section><section class="jsdoc-module" id="koru/test/api"><h2 class="jsdoc-module-title">API</h2><abstract><div>API is a semi-automatic API document generator. It uses
unit-tests to determine types and values at test time.</div></abstract><div><div class="jsdoc-methods"><h4>Methods</h4><div><div class=" jsdoc-module-section" id="koru/test/api:module" name="module"><h5>API.module(subject, subjectName, subjectModules)</h5><abstract><div>Specify the <span class="jsdoc-param">subject</span> to be documented</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>[subject]</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Object">object</a> or <a href="https://developer.mozilla.org/en-US/docs/Glossary/Function">function</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>[subjectName]</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>[subjectModules]</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/[module,...]">[module,...]</a></td><td class="jsdoc-info"><div>list of modules that define the subject</div></td></tr><tr class="jsdoc-method-returns"><td><h6>Returns</h6></td><td><a href="#koru/test/api">koru/test/api</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">API</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/test/api"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">API</span>.<span class="na">module</span>();</div><span class="jsdoc-returns c1"> // returns <span class="ge nx">{API(API)}</span></span></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">API</span>.<span class="na">module</span>(<span class="ge nx">{clean: =&gt; clean}</span>, <span class="s">"myHelper"</span>);</div><span class="jsdoc-returns c1"> // returns <span class="ge nx">{API(myHelper)}</span></span></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">API</span>.<span class="na">module</span>(<span class="ge nx">Elf</span>);</div><span class="jsdoc-returns c1"> // returns <span class="ge nx">{API(Elf)}</span></span></div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/test/api:example" name="example"><h5>API.example(body)</h5><abstract><div>Run a section of as an example of a method call.</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>body</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Function">function</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">API</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/test/api"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">API</span>.<span class="na">example</span>(<span class="ge nx">() =&gt; {...}</span>);</div></div></div><div class="jsdoc-example-call"><div class="highlight"><span class="k">class</span> <span class="nx">Color</span> {
  <span class="k">static</span> <span class="nf">define</span>(<span class="nx">name</span>, <span class="nx">value</span>) {
    <span class="k">this</span>.<span class="na">colors</span>[<span class="nx">name</span>] <span class="o">=</span> <span class="nx">value</span>;
  }
  <span class="cs">// ...</span>
}
<span class="nx">Color</span>.<span class="na">colors</span> <span class="o">=</span> {};

<span class="nx">API</span>.<span class="na">module</span>(<span class="nx">Color</span>);
<span class="nx">API</span>.<span class="na">method</span>(<span class="s">'define'</span>);

<span class="nx">API</span>.<span class="na">example</span>(() <span class="o">=&gt;</span> {
  <span class="cs">// this body of code is executed</span>
  <span class="nx">Color</span>.<span class="na">define</span>(<span class="s">'red'</span>, <span class="s">'#f00'</span>);
  <span class="nx">Color</span>.<span class="na">define</span>(<span class="s">'blue'</span>, <span class="s">'#00f'</span>);
  <span class="nx">assert</span>.<span class="na">same</span>(<span class="nx">Color</span>.<span class="na">colors</span>.<span class="na">red</span>, <span class="s">'#f00'</span>);
});</div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/test/api:comment" name="comment"><h5>API.comment(comment)</h5><abstract><div>Add a comment before the next example</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>comment</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">API</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/test/api"</span>);</div><div class="jsdoc-example-call"><div class="highlight"><span class="k">class</span> <span class="nx">Excercise</span> {
  <span class="k">static</span> <span class="nf">register</span>(<span class="nx">name</span>, <span class="nx">minutes</span>) {}
  <span class="nf">begin</span>() {}
}

<span class="nx">API</span>.<span class="na">module</span>(<span class="nx">Excercise</span>);
<span class="nx">API</span>.<span class="na">method</span>(<span class="s">'register'</span>);

<span class="nx">API</span>.<span class="na">comment</span>(<span class="s">'Optionally set the default duration'</span>);
<span class="nx">Excercise</span>.<span class="na">register</span>(<span class="s">'Jogging'</span>, <span class="m">5</span>); <span class="cs">// This call gets the comment</span>
<span class="nx">Excercise</span>.<span class="na">register</span>(<span class="s">'Skipping'</span>); <span class="cs">// This call get no comment</span></div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/test/api:property" name="property"><h5>API.property(name, options)</h5><abstract><div>Document a property of the current subject</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>name</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>[options]</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Object">object</a> or <a href="https://developer.mozilla.org/en-US/docs/Glossary/Function">function</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-method-returns"><td><h6>Returns</h6></td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Null">null</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">API</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/test/api"</span>);</div><div class="jsdoc-example-call"><div class="highlight"><span class="nx">v</span>.<span class="na">defaults</span> <span class="o">=</span> {
  <span class="na">logger</span>: <span class="kd">function</span> () {},
  <span class="na">width</span>: <span class="m">800</span>,
  <span class="na">height</span>: <span class="m">600</span>,
  <span class="na">theme</span>: {
    <span class="na">name</span>: <span class="s">'light'</span>,
    <span class="na">primaryColor</span>: <span class="s">'#aaf'</span>
  }
};

<span class="nx">API</span>.<span class="na">module</span>(<span class="nx">v</span>.<span class="na">defaults</span>, <span class="s">'defaults'</span>);
<span class="nx">API</span>.<span class="na">property</span>(<span class="s">'theme'</span>, {
  <span class="na">info</span>: <span class="s">'The default theme'</span>,
  <span class="na">properties</span>: {
    <span class="na">name</span>: <span class="nx">value</span> <span class="o">=&gt;</span> {
      <span class="nx">v</span>.<span class="na">name</span> <span class="o">=</span> <span class="nx">value</span>;
      <span class="k">return</span> <span class="s">'The theme name is ${value}'</span>;
    },
    <span class="na">primaryColor</span>: <span class="s">'The primary color is ${value}'</span>
  }
});
<span class="nx">assert</span>.<span class="na">same</span>(<span class="nx">v</span>.<span class="na">name</span>, <span class="s">'light'</span>);

<span class="nx">API</span>.<span class="na">property</span>(<span class="s">'logger'</span>, <span class="nx">value</span> <span class="o">=&gt;</span> {
  <span class="nx">v</span>.<span class="na">logger</span> <span class="o">=</span> <span class="nx">value</span>;
  <span class="k">return</span> <span class="s">'The default logger is ${value}'</span>;
});

<span class="nx">assert</span>.<span class="na">same</span>(<span class="nx">v</span>.<span class="na">logger</span>, <span class="nx">v</span>.<span class="na">defaults</span>.<span class="na">logger</span>);</div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">API</span>.<span class="na">property</span>(<span class="s">"width"</span>);</div></div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/test/api:new" name="new"><h5>API.new()</h5><abstract><div>Document <span class="jsdoc-param">constructor</span> for the current subject</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-method-returns"><td><h6>Returns</h6></td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Function">function</a></td><td class="jsdoc-info"><div>a ProxyClass which is to be used instead of <code>new Class</code></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">API</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/test/api"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">API</span>.<span class="na">new</span>();</div><span class="jsdoc-returns c1"> // returns <span class="ge nx">newProxy</span></span></div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/test/api:method" name="method"><h5>API.method(methodName)</h5><abstract><div>Document <span class="jsdoc-param">methodName</span> for the current subject</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>methodName</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">API</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/test/api"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">API</span>.<span class="na">method</span>(<span class="s">"fnord"</span>);</div></div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/test/api:protoMethod" name="protoMethod"><h5>API.protoMethod(methodName, subject)</h5><abstract><div>Document prototype <span class="jsdoc-param">methodName</span> for the current subject</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>methodName</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>[subject]</td><td></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">API</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/test/api"</span>);</div><div class="jsdoc-example-call"><div class="highlight"><span class="k">class</span> <span class="nx">Tree</span> {
  <span class="k">constructor</span><span class="nf">constructor</span>(<span class="nx">name</span>) {
    <span class="k">this</span>.<span class="na">name</span> <span class="o">=</span> <span class="nx">name</span>;
    <span class="k">this</span>.<span class="na">branches</span> <span class="o">=</span> <span class="m">10</span>;
  }

  <span class="nf">prune</span>(<span class="nx">branchCount</span>) {
    <span class="k">return</span> <span class="k">this</span>.<span class="na">branches</span> <span class="o">-=</span> <span class="nx">branchCount</span>;
  }
};

<span class="nx">API</span>.<span class="na">module</span>(<span class="nx">Tree</span>);
<span class="nx">API</span>.<span class="na">protoMethod</span>(<span class="s">'prune'</span>);

<span class="kd">const</span> <span class="nx">plum</span> = <span class="k">new</span> <span class="nx">Tree</span>(<span class="s">'Plum'</span>);
<span class="nx">assert</span>.<span class="na">same</span>(<span class="nx">plum</span>.<span class="na">prune</span>(<span class="m">3</span>), <span class="m">7</span>);
<span class="nx">assert</span>.<span class="na">same</span>(<span class="nx">plum</span>.<span class="na">prune</span>(<span class="m">2</span>), <span class="m">5</span>);</div></div></pre></div></div></div></div></div></section><section class="jsdoc-module" id="koru/ui/route"><h2 class="jsdoc-module-title">Route</h2><abstract><div>Route is a paginging system within a one page app. It manages
creating and destroying pages and recording history.</div></abstract><div><div class="jsdoc-methods"><h4>Methods</h4><div><div class=" jsdoc-module-section" id="koru/ui/route:setTitle" name="setTitle"><h5>Route.setTitle(title)</h5><abstract><div>Set the <span class="jsdoc-param">document.title</span> for the current page.</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>title</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/ui/route"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">Route</span>.<span class="na">setTitle</span>(<span class="s">"my title"</span>);</div></div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/ui/route:gotoPage" name="gotoPage"><h5>Route.gotoPage(page, pageRoute)</h5><abstract><div>Goto the specified <span class="jsdoc-param">page</span> and record in <span class="jsdoc-param">window.history</span>.</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>page</td><td><a href="#koru/dom/template">koru/dom/template</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>pageRoute</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Object">object</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/ui/route"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">Route</span>.<span class="na">gotoPage</span>(<span class="ge nx">DomTemplate:Test.AdminProfile</span>, <span class="ge nx">{append: 'my/id'}</span>);</div></div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/ui/route:replacePage" name="replacePage"><h5>Route.replacePage()</h5><abstract><div>Like <a href="#koru/ui/route:gotoPage">gotoPage()</a> but replaces to <span class="jsdoc-param">window.history</span>
rather than adding to it.</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-method-returns"><td><h6>Returns</h6></td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/ui/route"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">Route</span>.<span class="na">replacePage</span>(<span class="s">"myPage"</span>, <span class="ge nx">{append: 'myId'}</span>);</div><span class="jsdoc-returns c1"> // returns <span class="s">"replaceState"</span></span></div></div></pre></div></div></div></div></div></section><section class="jsdoc-module" id="koru/util"><h2 class="jsdoc-module-title">util</h2><abstract><div>The util module provides commonly performed utility functions.</div></abstract><div><div class="jsdoc-methods"><h4>Methods</h4><div><div class=" jsdoc-module-section" id="koru/util:toDp" name="toDp"><h5>util.toDp(number, dp, zeroFill)</h5><abstract><div>Return a floating point <span class="jsdoc-param">number</span> as a string to <span class="jsdoc-param">dp</span> decimal places.</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>number</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Number">number</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>dp</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Number">number</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>[zeroFill]</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Boolean">boolean</a></td><td class="jsdoc-info"><div>pad with zeros.</div></td></tr><tr class="jsdoc-method-returns"><td><h6>Returns</h6></td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">util</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/util"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">toDp</span>(<span class="m">10.7</span>, <span class="m">0</span>);</div><span class="jsdoc-returns c1"> // returns <span class="s">"11"</span></span></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">toDp</span>(<span class="m">2.6</span>, <span class="m">1</span>);</div><span class="jsdoc-returns c1"> // returns <span class="s">"2.6"</span></span></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">toDp</span>(<span class="m">1.2345</span>, <span class="m">3</span>, <span class="kc">true</span>);</div><span class="jsdoc-returns c1"> // returns <span class="s">"1.235"</span></span></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">toDp</span>(<span class="m">1.2</span>, <span class="m">3</span>, <span class="kc">true</span>);</div><span class="jsdoc-returns c1"> // returns <span class="s">"1.200"</span></span></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">toDp</span>(<span class="m">10</span>, <span class="m">3</span>);</div><span class="jsdoc-returns c1"> // returns <span class="s">"10"</span></span></div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/util:pc" name="pc"><h5>util.pc(fraction)</h5><abstract><div>Convert a <span class="jsdoc-param">fraction</span> into css % string</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>fraction</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Number">number</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-method-returns"><td><h6>Returns</h6></td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">util</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/util"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">pc</span>(<span class="m">1.2345678</span>);</div><span class="jsdoc-returns c1"> // returns <span class="s">"123.45678%"</span></span></div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/util:px" name="px"><h5>util.px(value)</h5><abstract><div>Convert a <span class="jsdoc-param">fraction</span> into css % string</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>value</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Number">number</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-method-returns"><td><h6>Returns</h6></td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">util</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/util"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">px</span>(<span class="m">123.2345678</span>);</div><span class="jsdoc-returns c1"> // returns <span class="s">"123px"</span></span></div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/util:removeItem" name="removeItem"><h5>util.removeItem(list, item)</h5><abstract><div>remove an <span class="jsdoc-param">item</span> from a <span class="jsdoc-param">list</span>. <span class="jsdoc-param">list</span> is modified.
<p>Returns </p>
<span class="jsdoc-param">item</span> if found</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>list</td><td><a href="#Array">Array</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>[item]</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Number">number</a> or <a href="https://developer.mozilla.org/en-US/docs/Glossary/Object">object</a></td><td class="jsdoc-info"><div>can be a key-value object to compare the given keys.</div></td></tr><tr class="jsdoc-method-returns"><td><h6>Returns</h6></td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Object">object</a> or <a href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive">primitive</a></td><td class="jsdoc-info"><div>the removed item.</div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">util</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/util"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">removeItem</span>(<span class="ge nx">[1, 2, 3]</span>, <span class="m">2</span>);</div><span class="jsdoc-returns c1"> // returns <span class="m">2</span></span></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">removeItem</span>(<span class="ge nx">[1, 3]</span>, <span class="m">4</span>);</div></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">removeItem</span>(<span class="ge nx">[1, 3]</span>, <span class="m">1</span>);</div><span class="jsdoc-returns c1"> // returns <span class="m">1</span></span></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">removeItem</span>(<span class="ge nx">[3]</span>, <span class="m">3</span>);</div><span class="jsdoc-returns c1"> // returns <span class="m">3</span></span></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">removeItem</span>(<span class="ge nx">[]</span>);</div></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">removeItem</span>(<span class="ge nx">[{id: 4, name: 'foo'}, {id: 5, name: 'bar'}, {x: 1}]</span>, <span class="ge nx">{name: 'bar', x: 1}</span>);</div></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">removeItem</span>(<span class="ge nx">[{id: 4, name: 'foo'}, {id: 5, name: 'bar'}, {x: 1}]</span>, <span class="ge nx">{name: 'bar'}</span>);</div><span class="jsdoc-returns c1"> // returns <span class="ge nx">{id: 5, name: 'bar'}</span></span></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">removeItem</span>(<span class="ge nx">[{id: 4, name: 'foo'}, {x: 1}]</span>, <span class="ge nx">{id: 4, name: 'foo'}</span>);</div><span class="jsdoc-returns c1"> // returns <span class="ge nx">{id: 4, name: 'foo'}</span></span></div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/util:intersectp" name="intersectp"><h5>util.intersectp(list1, list2)</h5><abstract><div>Determine if <span class="jsdoc-param">list1</span> and <span class="jsdoc-param">list2</span> intersect</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>list1</td><td><a href="#Array">Array</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>list2</td><td><a href="#Array">Array</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-method-returns"><td><h6>Returns</h6></td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Boolean">boolean</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">util</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/util"</span>);</div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">intersectp</span>(<span class="ge nx">[1, 4]</span>, <span class="ge nx">[4, 5]</span>);</div><span class="jsdoc-returns c1"> // returns <span class="kc">true</span></span></div></div><div><div class="jsdoc-example-call highlight"><div><span class="nx">util</span>.<span class="na">intersectp</span>(<span class="ge nx">[1, 2]</span>, <span class="ge nx">['a']</span>);</div></div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/util:reverseForEach" name="reverseForEach"><h5>util.reverseForEach(list, visitor)</h5><abstract><div>Visit <span class="jsdoc-param">list</span> in reverse order.</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>list</td><td><a href="#Array">Array</a> or <a href="https://developer.mozilla.org/en-US/docs/Glossary/Null">null</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>visitor</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Function">function</a></td><td class="jsdoc-info"><div>called with the list <span class="jsdoc-param">item</span> and <span class="jsdoc-param">index</span></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">util</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/util"</span>);</div><div class="jsdoc-example-call"><div class="highlight"><span class="kd">var</span> <span class="nx">results</span> = [];
<span class="nx">util</span>.<span class="na">reverseForEach</span>(<span class="nx">v</span>.<span class="na">list</span> <span class="o">=</span> [<span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>], (<span class="nx">val</span>, <span class="nx">index</span>) <span class="o">=&gt;</span> {
  <span class="nx">results</span>.<span class="na">push</span>(<span class="nx">val</span> <span class="o">+</span> <span class="s">"."</span> <span class="o">+</span> <span class="nx">index</span>);
});
<span class="nx">assert</span>.<span class="na">equals</span>(<span class="nx">results</span>, [<span class="s">'3.2'</span>, <span class="s">'2.1'</span>, <span class="s">'1.0'</span>]);

<span class="cs">// ignores null list</span>
<span class="nx">util</span>.<span class="na">reverseForEach</span>(<span class="kc">null</span>, <span class="nx">v</span>.<span class="na">stub</span> <span class="o">=</span> <span class="nx">test</span>.<span class="na">stub</span>());
<span class="nx">refute</span>.<span class="na">called</span>(<span class="nx">v</span>.<span class="na">stub</span>);</div></div></pre></div></div></div></div></div></section><section class="jsdoc-module" id="koru/web-server"><h2 class="jsdoc-module-title">webServer</h2><abstract><div>The default web-server created from <a class="jsdoc-idLink" href="#koru/web-server-factory">koru/web-server-factory</a>.  <a class="jsdoc-idLink" href="#koru/idle-check">koru/idle-check</a> is used to
keep track of active requests.
<h4 id="config">Config</h4>
<ul>
<li><code>{host, port}</code>: listens on the specified address.</li>
<li><code>{defaultPage} defaults to</code>/index.html`: used when no path is
supplied in the url.</li>
<li><code>{index.js, require.js}</code> defaults to <code>yaajs.js</code>: the file to serve for</li>
<li><code>index.js</code> or <code>require.js</code></li>
<li><code>{koru}</code> defaults to <code>app/koru</code>: where to find koru files. </li>
</ul>
</div></abstract><div><div class="jsdoc-methods"><h4>Methods</h4><div><div class=" jsdoc-module-section" id="koru/web-server:start" name="start"><h5>webServer.start()</h5><abstract><div></div></abstract><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">webServer</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/web-server"</span>);</div><div class="jsdoc-example-call"><div class="highlight"><span class="kd">const</span> { <span class="nx">Server</span> } = <span class="nx">requirejs</span>.<span class="na">nodeRequire</span>(<span class="s">'http'</span>);

<span class="kd">const</span> <span class="nx">listen</span> = <span class="nx">test</span>.<span class="na">stub</span>(<span class="nx">Server</span>.<span class="na">prototype</span>, <span class="s">'listen'</span>).<span class="na">yields</span>();
<span class="nx">webServer</span>.<span class="na">start</span>();
<span class="nx">assert</span>.<span class="na">calledWith</span>(<span class="nx">listen</span>, <span class="nx">webServerModule</span>.<span class="na">config</span>().<span class="na">port</span>);</div></div></pre></div></div></div></div></div></section><section class="jsdoc-module" id="koru/web-server-factory"><h2 class="jsdoc-module-title">WebServerFactory</h2><abstract><div>Factory for creating web-servers. </div></abstract><div><div class=" jsdoc-module-section" id="koru/web-server-factory:constructor" name="constructor"><h4>constructor(host, port, root, DEFAULT_PAGE='/index.html', SPECIALS={})</h4><abstract><div>Create a new web server. The npm package
<a href="https://www.npmjs.com/package/send">send</a> is used to serve
files.</div></abstract><div class="jsdoc-args"><h6>Parameters</h6><table><tbody><tr class="jsdoc-arg"><td>host</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>port</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>root</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div>Serve files relative to path.</div></td></tr><tr class="jsdoc-arg"><td>[DEFAULT_PAGE]</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/String">string</a></td><td class="jsdoc-info"><div></div></td></tr><tr class="jsdoc-arg"><td>[SPECIALS]</td><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Object">object</a></td><td class="jsdoc-info"><div></div></td></tr></tbody></table></div><div><h6>Example</h6><pre class="jsdoc-example highlight"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">WebServerFactory</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/web-server-factory"</span>);</div><div><div class="highlight"><span class="kd">const</span> <span class="nx">http</span> = <span class="nx">requirejs</span>.<span class="na">nodeRequire</span>(<span class="s">'http'</span>);
<span class="nx">test</span>.<span class="na">stub</span>(<span class="nx">http</span>, <span class="s">'createServer'</span>);
<span class="nx">v</span>.<span class="na">webServer</span> <span class="o">=</span> <span class="nx">WebServerFactory</span>(<span class="s">'0.0.0.0'</span>, <span class="s">'80'</span>, <span class="s">'/rootDir/'</span>, <span class="s">'/index2.html'</span>, { <span class="nf">gem</span>(<span class="nx">match</span>) {
    <span class="k">return</span> [<span class="nx">match</span>[<span class="m">0</span>], <span class="s">'/path-to-gems'</span>];
  } });
<span class="nx">assert</span>.<span class="na">calledWith</span>(<span class="nx">http</span>.<span class="na">createServer</span>, <span class="nx">v</span>.<span class="na">webServer</span>.<span class="na">requestListener</span>);</div></div><div>new WebServerFactory("localhost", "9876", "/");</div></pre></div></div><div class="jsdoc-methods"><h4>Methods</h4><div><div class=" jsdoc-module-section" id="koru/web-server-factory:#start" name="#start"><h5>WebServerFactory#start()</h5><abstract><div></div></abstract><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">WebServerFactory</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/web-server-factory"</span>);</div><div class="jsdoc-example-call"><div class="highlight"><span class="kd">const</span> { <span class="nx">Server</span> } = <span class="nx">requirejs</span>.<span class="na">nodeRequire</span>(<span class="s">'http'</span>);
<span class="kd">const</span> <span class="nx">listen</span> = <span class="nx">test</span>.<span class="na">stub</span>(<span class="nx">Server</span>.<span class="na">prototype</span>, <span class="s">'listen'</span>).<span class="na">yields</span>();

<span class="nx">v</span>.<span class="na">webServer</span>.<span class="na">start</span>();
<span class="nx">assert</span>.<span class="na">calledWith</span>(<span class="nx">listen</span>, <span class="s">'9876'</span>, <span class="s">'localhost'</span>);</div></div></pre></div></div><div class=" jsdoc-module-section" id="koru/web-server-factory:#stop" name="#stop"><h5>WebServerFactory#stop()</h5><abstract><div></div></abstract><div><h6>Example</h6><pre class="jsdoc-example"><div class="jsdoc-require highlight"><span class="kd">const</span> <span class="nx">WebServerFactory</span> <span class="o">=</span> <span class="k">require</span>(<span class="s">"koru/web-server-factory"</span>);</div><div class="jsdoc-example-call"><div class="highlight"><span class="kd">const</span> { <span class="nx">Server</span> } = <span class="nx">requirejs</span>.<span class="na">nodeRequire</span>(<span class="s">'http'</span>);
<span class="kd">const</span> <span class="nx">close</span> = <span class="nx">test</span>.<span class="na">stub</span>(<span class="nx">Server</span>.<span class="na">prototype</span>, <span class="s">'close'</span>);

<span class="nx">v</span>.<span class="na">webServer</span>.<span class="na">stop</span>();
<span class="nx">assert</span>.<span class="na">called</span>(<span class="nx">close</span>);</div></div></pre></div></div></div></div></div></section></div>
      </main>
    </div>
    <script src="https://code.getmdl.io/1.1.3/material.min.js"></script>
    <script src="api.js"></script>
  </body>
</html>
